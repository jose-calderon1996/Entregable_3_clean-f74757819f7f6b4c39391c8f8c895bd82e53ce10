{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/jose/Desktop/Entregable_3_clean/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { inject } from '@angular/core';\nimport { AlertController, LoadingController, NavController } from '@ionic/angular';\nimport { AuthService } from '../services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@ionic/angular\";\nexport let LoginPage = /*#__PURE__*/(() => {\n  class LoginPage {\n    constructor() {\n      this.loadingController = inject(LoadingController);\n      this.alertas = inject(AlertController);\n      this.navCtrl = inject(NavController); // Agrega el NavController para la navegación\n      // Variables locales para capturar con ngModel\n      this.email = \"\";\n      this.password = \"\";\n      this.color = 'primary'; // o el color que prefieras (e.g., 'secondary', 'danger', etc.)\n      this.authService = inject(AuthService);\n    }\n    validadInnicio() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          yield _this.authService.login(_this.email, _this.password);\n          _this.navCtrl.navigateForward('/home'); // Navega a la página de inicio\n        } catch (error) {\n          console.error('Error de inicio de sesión:', error);\n          // Puedes agregar una alerta o mensaje de error aquí\n        }\n      })();\n    }\n    presentAlert() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const alert = yield _this2.alertas.create({\n          header: 'Error de inicio de sesión',\n          message: 'Correo o contraseña incorrectos. Inténtalo nuevamente.',\n          buttons: ['OK']\n        });\n        yield alert.present();\n      })();\n    }\n    animacionLogin() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        // Crea el loading con un mensaje\n        const loading = yield _this3.loadingController.create({\n          message: 'Iniciando sesión...',\n          duration: 3000 // Duración de la animación de carga: 3 segundos\n        });\n        yield loading.present();\n        yield loading.onDidDismiss();\n        // Navega a la página de perfil de estudiante después de la animación de carga\n        _this3.navCtrl.navigateForward('/perfil-estudiante');\n      })();\n    }\n    vistaPass() {\n      this.navCtrl.navigateForward('/cambio-pass'); // Navega a la página de cambio de contraseña\n    }\n    ngOnInit() {}\n    static {\n      this.ɵfac = function LoginPage_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || LoginPage)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoginPage,\n        selectors: [[\"app-login\"]],\n        decls: 22,\n        vars: 3,\n        consts: [[3, \"fullscreen\"], [\"slot\", \"start\"], [\"defaultHref\", \"/home\", \"color\", \"success\", \"icon-only\", \"true\"], [\"color\", \"success\", 1, \"ion-text-center\"], [1, \"ion-padding\", \"center-content\"], [\"src\", \"https://i.pinimg.com/736x/3f/5a/d8/3f5ad816179850d23695910e906554a7.jpg\", \"alt\", \"Login\", 2, \"width\", \"100%\", \"height\", \"auto\", \"margin-bottom\", \"20px\"], [\"color\", \"success\", \"position\", \"floating\"], [\"type\", \"email\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"password\", 3, \"ngModelChange\", \"ngModel\"], [\"color\", \"success\", \"slot\", \"end\"], [\"fill\", \"outline\", \"color\", \"success\", \"expand\", \"block\", 3, \"click\"], [\"color\", \"success\", \"fill\", \"clear\", 3, \"click\"]],\n        template: function LoginPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"ion-header\")(2, \"ion-toolbar\")(3, \"ion-buttons\", 1);\n            i0.ɵɵelement(4, \"ion-back-button\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"ion-title\", 3);\n            i0.ɵɵtext(6, \"Login\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(7, \"ion-content\", 4);\n            i0.ɵɵelement(8, \"img\", 5);\n            i0.ɵɵelementStart(9, \"ion-item\")(10, \"ion-label\", 6);\n            i0.ɵɵtext(11, \"Correo\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"ion-input\", 7);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_12_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.email, $event) || (ctx.email = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(13, \"ion-item\")(14, \"ion-label\", 6);\n            i0.ɵɵtext(15, \"Password\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"ion-input\", 8);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_16_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.password, $event) || (ctx.password = $event);\n              return $event;\n            });\n            i0.ɵɵelement(17, \"ion-input-password-toggle\", 9);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(18, \"ion-button\", 10);\n            i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_18_listener() {\n              return ctx.validadInnicio();\n            });\n            i0.ɵɵtext(19, \" Iniciar sesi\\u00F3n \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"ion-button\", 11);\n            i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_20_listener() {\n              return ctx.vistaPass();\n            });\n            i0.ɵɵtext(21, \" \\u00BFCambiar contrase\\u00F1a? \");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"fullscreen\", true);\n            i0.ɵɵadvance(12);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.email);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.password);\n          }\n        },\n        dependencies: [i1.NgControlStatus, i1.NgModel, i2.IonButton, i2.IonButtons, i2.IonContent, i2.IonHeader, i2.IonInput, i2.IonInputPasswordToggle, i2.IonItem, i2.IonLabel, i2.IonTitle, i2.IonToolbar, i2.TextValueAccessor, i2.IonBackButton]\n      });\n    }\n  }\n  return LoginPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}